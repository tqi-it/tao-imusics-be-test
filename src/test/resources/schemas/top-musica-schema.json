{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Top Plays - Retorno contendo somente um registro",
  "type": "object",

  "required": ["mensagem", "codigo", "dados",  "total", "qde_registros", "pagina", "qde_por_pagina"],
  "additionalProperties": false,

  "properties": {

    "mensagem": {
      "type": "string",
      "minLength": 0,
      "description": "Mensagem de retorno da API (pode ser vazia porém não nula)"
    },

    "codigo": {
      "type": "integer",
      "minimum": 0,
      "maximum": 1,
      "description": "Código da API → 0 = sucesso, 1 = erro"
    },

    "dados": {
      "type": "object",
      "required": ["id", "qdePlaysAtual", "titulo", "artistas", "dataLancamento", "capa", "qdePlaysAnterior", "plataforma"],
      "additionalProperties": false,

      "properties": {
        "id": {
          "type": "integer",
          "minimum": 1,
          "description": "Identificador único do registro"
        },

        "qdePlaysAtual": {
          "type": "integer",
          "minimum": 0,
          "description": "Plays atuais registrados"
        },

        "titulo": {
          "type": "string",
          "minLength": 1,
          "maxLength": 120,
          "description": "Nome/título da faixa musical"
        },

        "artistas": {
          "type": "string",
          "minLength": 1,
          "description": "Artistas participantes — string única formatada"
        },

        "dataLancamento": {
          "type": "string",
          "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$",
          "description": "Formato esperado → YYYY-MM-DD HH:MM:SS"
        },

        "capa": {
          "type": "string",
          "minLength": 15,
          "pattern": "^distributions\\/[A-Za-z0-9\\-\\/\\._]+\\.(png|jpg|jpeg|JPG|JPEG|PNG)$",
          "description": "Caminho armazenado no storage — arquivo de imagem obrigatório"
        },

        "qdePlaysAnterior": {
          "type": "integer",
          "minimum": 0,
          "description": "Quantidade de plays anteriores à última medição"
        },

        "plataforma": {
          "type": "string",
          "description": "Nome da plataforma onde o play ocorreu \"Tiktok\", \"YouTube\", \"Spotify\", \"Deezer\", \"Amazon\""
        }
      }
    },


    "total": {
      "type": "integer",
      "minimum": 0,
      "description": "Total"
    },

    "qde_registros": {
      "type": "integer",
      "minimum": 0,
      "description": "Total encontrado (antes da paginação)"
    },

    "pagina": {
      "type": "integer",
      "minimum": 0,
      "description": "Página retornada"
    },

    "qde_por_pagina": {
      "type": "integer",
      "minimum": 0,
      "maximum": 200,
      "description": "Limite de itens por página retornada"
    }
  }
}
